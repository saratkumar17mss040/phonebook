{"version":3,"sources":["components/Header.jsx","components/PersonForm.jsx","components/Filter.jsx","components/PersonList.jsx","components/Persons.jsx","services/persons.js","components/Notification.jsx","App.jsx","index.jsx"],"names":["Header","name","PersonForm","newName","newNumber","addNewName","updateByField","onSubmit","type","value","onChange","required","Filter","filterName","PersonList","persons","deletePerson","map","id","number","onClick","Persons","filteredPersons","filter","toLowerCase","baseUrl","personService","getAll","axios","get","then","response","data","create","personObject","post","update","updatedPerson","put","remove","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilterName","notification","setNotification","useEffect","initialPersons","catch","error","console","field","event","target","preventDefault","filteredPerson","person","length","oldNumber","personToAdd","needNumberReplace","window","confirm","alert","returnedPerson","personItem","setTimeout","concat","confirmMessage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f65c5ddf.chunk.js","sourcesContent":["const Header = ({ name }) => <h2>{name}</h2>;\r\n\r\nexport default Header;","const PersonForm = ({ newName, newNumber, addNewName, updateByField }) => {\r\n\treturn (\r\n\t\t<form onSubmit={addNewName}>\r\n\t\t\t<div>\r\n\t\t\t\tName:{' '}\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={newName}\r\n\t\t\t\t\tonChange={updateByField('name')}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tPhone number:{' '}\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tvalue={newNumber}\r\n\t\t\t\t\tonChange={updateByField('number')}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","const Filter = ({ filterName, updateByField }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<p>Filter shown with:</p>\r\n\t\t\t<input\r\n\t\t\t\tonChange={updateByField('filterName')}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tvalue={filterName}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","const PersonList = ({ persons, deletePerson }) => {\r\n\treturn persons.map(({ id, name, number }) => {\r\n\t\treturn (\r\n\t\t\t<div key={id}>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{name} {number}\r\n\t\t\t\t</p>\r\n\t\t\t\t<button onClick={() => deletePerson(id)} type=\"button\">\r\n\t\t\t\t\tdelete\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n};\r\n\r\nexport default PersonList;\r\n","import PersonList from './PersonList';\r\n\r\nconst Persons = ({ filterName, persons, deletePerson }) => {\r\n\tif (filterName === '') {\r\n\t\treturn <PersonList persons={persons} deletePerson={deletePerson} />;\r\n\t} else {\r\n\t\tconst filteredPersons = persons.filter(\r\n\t\t\t({ name }) => name.toLowerCase() === filterName.toLowerCase()\r\n\t\t);\r\n\t\treturn <PersonList persons={filteredPersons} deletePerson={deletePerson} />;\r\n\t}\r\n};\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (personObject) => {\r\n\tconst request = axios.post(baseUrl, personObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, updatedPerson) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, updatedPerson);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst personService = {\r\n\tgetAll,\r\n\tcreate,\r\n\tupdate,\r\n\tremove,\r\n};\r\n\r\nexport default personService;\r\n","const Notification = ({ message }) => {\r\n\tif (message === null) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<div className={message[0] === 'N' ? 'notification' : 'error'}>\r\n\t\t\t<em>\r\n\t\t\t\t<p>{message}</p>\r\n\t\t\t</em>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from './components/Header';\r\nimport PersonForm from './components/PersonForm';\r\nimport Filter from './components/Filter';\r\nimport Persons from './components/Persons';\r\nimport personService from './services/persons';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [newNumber, setNewNumber] = useState('');\r\n\tconst [filterName, setFilterName] = useState('');\r\n\tconst [notification, setNotification] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonService\r\n\t\t\t.getAll()\r\n\t\t\t.then((initialPersons) => {\r\n\t\t\t\tsetPersons(initialPersons);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst updateByField = (field) => (event) => {\r\n\t\tif (field === 'name') {\r\n\t\t\tsetNewName(event.target.value);\r\n\t\t} else if (field === 'number') {\r\n\t\t\tsetNewNumber(event.target.value);\r\n\t\t} else if (field === 'filterName') {\r\n\t\t\tsetFilterName(event.target.value);\r\n\t\t}\r\n\t};\r\n\r\n\tconst addNewName = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst filteredPerson = persons.filter(\r\n\t\t\t(person) => person.name.toLowerCase() === newName.toLowerCase()\r\n\t\t);\r\n\r\n\t\tif (filteredPerson.length !== 0) {\r\n\t\t\tconst oldNumber = filteredPerson[0].number;\r\n\t\t\tconst personToAdd = filteredPerson[0];\r\n\t\t\tconst updatedPerson = { ...personToAdd, number: newNumber };\r\n\t\t\tconst needNumberReplace = window.confirm(\r\n\t\t\t\t`Notification: ${newName} is already added to the phonebook, replace the old number with a new one ?`\r\n\t\t\t);\r\n\t\t\tif (needNumberReplace && oldNumber === newNumber) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t`Notification: ${newName}, it seems the new number is same as the old one. Try entering a new number`\r\n\t\t\t\t);\r\n\t\t\t} else if (needNumberReplace) {\r\n\t\t\t\tpersonService\r\n\t\t\t\t\t.update(updatedPerson.id, updatedPerson)\r\n\t\t\t\t\t.then((returnedPerson) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((personItem) =>\r\n\t\t\t\t\t\t\t\tpersonItem.id === personToAdd.id ? returnedPerson : personItem\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetNotification(\r\n\t\t\t\t\t\t\t`Notification: ${returnedPerson.name} was successfully updated`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetNotification(null);\r\n\t\t\t\t\t\t}, 4000);\r\n\t\t\t\t\t\tsetNewName('');\r\n\t\t\t\t\t\tsetNewNumber('');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetNotification(error.response.data.error);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetNotification(null);\r\n\t\t\t\t\t\t}, 4000);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\talert('Notification: Update operation got cancelled');\r\n\t\t\t\tsetNewName('');\r\n\t\t\t\tsetNewNumber('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst personObject = {\r\n\t\t\t\tname: newName,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t};\r\n\t\t\tpersonService\r\n\t\t\t\t.create(personObject)\r\n\t\t\t\t.then((returnedPerson) => {\r\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson));\r\n\t\t\t\t\tsetNotification(`Notification: Added ${newName}`);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetNotification(null);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\tsetNotification(error.response.data.error);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetNotification(null);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t});\r\n\t\t\tsetNewName('');\r\n\t\t\tsetNewNumber('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst deletePerson = (id) => {\r\n\t\tconst filteredPerson = persons.filter((person) => person.id === id);\r\n\t\tconst confirmMessage = `Delete ${filteredPerson[0].name} ?`;\r\n\t\tconst { name } = filteredPerson[0];\r\n\t\tif (window.confirm(confirmMessage)) {\r\n\t\t\tpersonService.remove(id).catch((error) => console.error(error));\r\n\t\t\talert(`Notification: ${name} successfully deleted !`);\r\n\t\t\tsetPersons(persons.filter((person) => person.id !== id));\r\n\t\t} else {\r\n\t\t\talert('Notification: Delete operation got cancelled');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"main\">\r\n\t\t\t<Notification message={notification} />\r\n\t\t\t<Header name=\"Phonebook application\" />\r\n\t\t\t<Filter filterName={filterName} updateByField={updateByField} />\r\n\t\t\t<Header name=\"Add a new person\" />\r\n\t\t\t<PersonForm\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\t// eslint-disable-next-line no-unused-vars\r\n\t\t\t\taddNewName={addNewName}\r\n\t\t\t\tupdateByField={updateByField}\r\n\t\t\t/>\r\n\t\t\t<Header name=\"Numbers\" />\r\n\t\t\t<Persons\r\n\t\t\t\tfilterName={filterName}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tdeletePerson={deletePerson}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}